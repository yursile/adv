!function(a){function b(a){var c,b={Itemspaceid:12862,adps:6401136,adsrc:13,apt:4,maxPic:6,turn:"2",isTurn:!1};for(c in a)b[c]=a[c];this.option=b,this.option.isTurn&&this.genrateTurn()}function c(){var a=this.option.maxPic;localStorage.turn||(localStorage.turn=Math.floor(Math.random(0,1)*a)),this.option.turn=localStorage.turn++%a+1}function d(a){var b=this;f({url:"http://10.16.10.63/adgtr/",data:b.option,success:function(c){var d=c[0].resource.file;"function"==typeof a?a(d):document.getElementsByClassName("loading")[0].style.cssText="background:url("+d+")"+" no-repeat;"+"background-size:100%",e(c,b.option.turn)}})}function e(a,b){var i,j,l,m,n,c=/\/c\/(\d{5})\//,d=this,e=a[0],g={aid:e.adid,apid:"beans_"+d.option.Itemspaceid,pgid:"pgid"+(new Date).getTime(),at:"1",ax:"0",ay:"0",bucket:e.bucket,c:e.c,e:e.e,ed:e.ed,ext:e.ext,freq:e.freq,impid:e.impression_id,ipos:"1",jsv:"06301130",mkey:e.monitorkey,newschn:c.exec(document.location.pathname)[1],r:Math.ceil(1e14*Math.random(0,1)),rsln:"640*1136",sf:"false",supplyid:"4",turn:b};if({_dc:"1451030323800",a:"99",apid:"beans_"+d.option.Itemspaceid,impid:e.impression_id},i={url:"http://i.go.sohu.com/count/v",data:g,success:function(){}},j={url:"http://i.go.sohu.com/count/av",data:g,success:function(){}},null==e)f({url:"http://i.go.sohu.com/count/v",data:{apid:"beans_"+d.option.Itemspaceid},success:function(){}});else{if(a[0].resource.imp){l=a[0].resource.imp.split("|");for(m in l)l[m]=l[m].slice(0,l[m].indexOf(";")),l[m].indexOf("optaim")>0?f({url:l[m],data:{_dc:(new Date).getTime(),apid:"beans_"+d.option.Itemspaceid,impid:e.impression_id},success:function(){}}):(n=new Image,n.src=l[m])}f(i),f(j)}}function f(b){var c=document.createElement("script");b.callback=b.callback||h(),c.src=b.url+"?"+g(b.data)+"&callback="+b.callback,a[b.callback]=function(d){b.success(d),a[b.callback]=null,document.body.removeChild(c)},setTimeout(function(){document.body.appendChild(c)},0)}function g(a){var c,b="";for(c in a)b+=c+"="+a[c]+"&";return b.slice(0,this.length-1)}function h(){return"jsonp"+Math.ceil(1e5*Math.random())}b.prototype.genrateTurn=c,b.prototype.getAD=d,b.prototype.submitAD=e,a.ADUtil=b,"undefined"!=typeof exports&&(module.exports=b)}(window);